# =========================================
# Clash Rule Base Template
# å¯ä½œä¸º SubConverter çš„ clash_rule_base
# =========================================

# Clash å…¨å±€è®¾ç½®
port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
external-controller: 127.0.0.1:9090
# ========== DNS æ¨¡å—å¼€å§‹ ==========
dns:
  enable: true                # æ€»å¼€å…³
  listen: 0.0.0.0:1053       # æœ¬åœ° DNS æœåŠ¡å™¨ï¼ŒæŒ‰éœ€æ”¹ç«¯å£æˆ–æ³¨é‡Š
  enhanced-mode: fake-ip     # æ ¸å¿ƒï¼šfake-ip æ¨¡å¼
  fake-ip-range: 198.18.0.1/16   # ç§æœ‰æ®µï¼Œå‹¿åŠ¨
  use-hosts: true            # è®©ç³»ç»Ÿ hosts ç”Ÿæ•ˆ

  # 1. å…ˆèµ°å›½å†… DoHï¼Œå¿«é€Ÿã€çœæµé‡
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29

  # 2. å¸¸è§„è§£æï¼šå›½å†…å¤–åŸŸååˆ†æµ
  nameserver:
    - https://dns.alidns.com/dns-query  # å›½å†…
    - https://doh.pub/dns-query         # å›½å†…
    - https://dns.google/dns-query      # å›½å¤–
    - https://cloudflare-dns.com/dns-query

  # 3. å…œåº•ï¼šä»…å½“ nameserver è¿”å›ç©ºæˆ–å›½å¤– IP æ—¶è§¦å‘
  fallback:
    - tls://8.8.8.8
    - tls://1.1.1.1
  fallback-filter:
    geoip: true          # åªæ¥å—å›½å¤– IP
    geoip-code: CN       # ä¸ä¸Šä¸€æ¡é…å¥—ï¼šCN ç»“æœè§†ä¸ºæ— æ•ˆ
    ipcidr:              # é¢å¤–ä¸¢å¼ƒæ®µ
      - 240.0.0.0/4
      - 0.0.0.0/32

  # 4. å…³é”®ï¼šè®©å¤§é™†åŸŸåç»•è¿‡ fake-ipï¼Œç›´æ¥æ‹¿çœŸå®å›½å†… IP
  fake-ip-filter:
    - "geosite:cn"        # å¤§é™†åŸŸåç™½åå•
    - "geosite:private"   # å±€åŸŸç½‘
    - "*.lan"
    - "+.local"
    - "*.tp-link.com.cn"  # å¸¸è§è·¯ç”±å™¨åŸŸåï¼ŒæŒ‰éœ€å†è¡¥

  # 5. ç¼“å­˜ä¸å¹¶å‘è°ƒä¼˜
  cache-size: 4096
  dns-timeout: 5
  # ========== DNS æ¨¡å—ç»“æŸ ==========

# é»˜è®¤è§„åˆ™ï¼ˆç¤ºä¾‹ï¼‰
rules:
#91
  - DOMAIN-SUFFIX,91selfie.com,ä¹ä¸€
  - DOMAIN-KEYWORD,91porn,ä¹ä¸€
  - DOMAIN-SUFFIX,91porn.com,ä¹ä¸€
  - DOMAIN-KEYWORD,killcovid2021,ä¹ä¸€
  - DOMAIN-SUFFIX,killcovid2021.com,ä¹ä¸€
  - DOMAIN-SUFFIX,cns.killcovid2021.com,ä¹ä¸€
  - DOMAIN-SUFFIX,91pornplus.com,ä¹ä¸€
  - DOMAIN-SUFFIX,91p49.com,ä¹ä¸€
  - DOMAIN-SUFFIX,91p263.com,ä¹ä¸€
  - DOMAIN-SUFFIX,cdn77.org,ä¹ä¸€
  - DOMAIN-SUFFIX,9p9.xyz,ä¹ä¸€ 
  - DOMAIN-SUFFIX,91porny.com,ä¹ä¸€ 
  - DOMAIN-SUFFIX,91vps.club,ä¹ä¸€ 
#è°·æ­Œåœ°çƒ
  - DOMAIN-SUFFIX,kh.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,geo.keyhole.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,geoauth.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,khmdb.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,maps.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,maps.gstatic.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,dl.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,m.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,mw1.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,mw2.google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
#æµ‹é€Ÿ
  - DOMAIN-SUFFIX,fast.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
#è°·æ­Œå•†åº—æ›´æ–°
  - DOMAIN-SUFFIX,play.googleapis.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,android.clients.google.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,connectivitycheck.gstatic.com,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,services.googleapis.cn,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,weixinbridge.com,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-KEYWORD,weixinbridge,ğŸ¯ å…¨çƒç›´è¿
#ç»´åŸºç™¾ç§‘
  - DOMAIN-SUFFIX,zh.wikipedia.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢2
  - DOMAIN-SUFFIX,wikimapia.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢2
  - DOMAIN-SUFFIX,wikimedia.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢2
  - DOMAIN-SUFFIX,wikinews.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢2
  - DOMAIN-SUFFIX,wikipedia.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢2
  - DOMAIN-SUFFIX,wikiquote.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢2
  - DOMAIN-SUFFIX,wikisource.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢2
#å“”å˜€å½±è§†
  - DOMAIN-SUFFIX,bdys03.com,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,bdys01.com,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,bdys.me,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,bde4.icu,ğŸ¯ å…¨çƒç›´è¿
#Voflix
  - DOMAIN-SUFFIX,voflix.com,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-KEYWORD,voflix,ğŸ¯ å…¨çƒç›´è¿
#è‡ªå®šä¹‰è§„åˆ™åˆ†ç•Œçº¿

